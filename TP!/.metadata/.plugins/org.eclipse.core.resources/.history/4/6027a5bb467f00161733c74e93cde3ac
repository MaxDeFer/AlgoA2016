/*
 * coordonnee.cpp
 *
 *  Created on: 2016-09-14
 *      Author: etudiant
 */



#include "Coordonnees.h"
#include <cmath>
#include <assert.h>



Coordonnees::Coordonnees(double latitude, double longitude)
{
	assert(is_valide_coord(latitude, longitude));
	this->m_latitude = latitude;
	this->m_longitude = longitude;

}


double Coordonnees::getLatitude() const
{
	return this->m_latitude;
}

void Coordonnees::setLatitude(double latitude)
{
	this->m_latitude = latitude;
}

double Coordonnees::getLongitude() const
{
	return this->m_longitude;
}

void Coordonnees::setLongitude(double longitude)
{
	this->m_longitude = longitude;
}

static bool is_valide_coord(double p_latitude, double p_longitude)
{
	bool isValide = false;
	if (p_latitude <= 90 && p_latitude >= 0 && p_longitude >= -180 && p_latitude <= 180 )
	{
		isValide = true;
	}
	return isValide;
}

double operator- (const Coordonnees & other)
{
	const double PI = 3.141592653589793;
	double distance;
	double thisLong = this.getLongitude;
	double thisLat = 22.1;
	double otherLong = other.getLongitude()*PI/180;
	double otherLat = other.getLatitude()*PI/180;
	distance = 2*6371*(asin(sqrt(pow(sin((otherLat-thisLat)/2),2))+cos(thisLat)*cos(otherLat))*(exp(sin((otherLong-thisLong)/2)),2));
	return distance;
}
/*
friend std::ostream & operator<<(std::ostream & flux, const Coordonnees & p_coord)
{
	flux << "( " << p_coord.getLatitude << ", " << p_coord.getLongitude << " )";
	return flux;
}
*/
